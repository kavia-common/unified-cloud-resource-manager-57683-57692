{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for interacting with mock cloud provider endpoints (AWS, Azure, GCP) via Supabase Edge Functions. It includes functions to build URLs, handle authentication, perform GET and POST requests, and specific wrappers for inventory and costs data for each provider.", "external_files": ["./supabaseClient"], "external_methods": ["supabase.auth.getSession()", "getSupabaseEnv()"], "published": ["getCloudData", "postCloudAction", "getAwsInventory", "getAzureInventory", "getGcpInventory", "getAwsCosts", "getAzureCosts", "getGcpCosts"], "classes": [], "methods": [{"name": "buildFunctionUrl(functionName, endpoint = \"\")", "description": "Constructs the full URL for an Edge Function with an optional subpath, ensuring proper slashes.", "scope": "", "scopeKind": ""}, {"name": "getAuthHeader()", "description": "Resolves the appropriate authorization header, using session token if available, otherwise fallback to environment's anon key.", "scope": "", "scopeKind": ""}, {"name": "safeFetchJson(url, options = {})", "description": "Wrapper around fetch to handle JSON responses and errors gracefully.", "scope": "", "scopeKind": ""}, {"name": "getCloudData(provider, endpoint = \"\")", "description": "Fetches data from mock cloud Edge Functions based on provider and endpoint.", "scope": "", "scopeKind": ""}, {"name": "postCloudAction(provider, endpoint = \"\", body = {})", "description": "Sends an action request to the mock cloud Edge Function via POST.", "scope": "", "scopeKind": ""}, {"name": "getAwsInventory()", "description": "Convenience function to fetch AWS inventory.", "scope": "", "scopeKind": ""}, {"name": "getAzureInventory()", "description": "Convenience function to fetch Azure inventory.", "scope": "", "scopeKind": ""}, {"name": "getGcpInventory()", "description": "Convenience function to fetch GCP inventory.", "scope": "", "scopeKind": ""}, {"name": "getAwsCosts()", "description": "Convenience function to fetch AWS costs.", "scope": "", "scopeKind": ""}, {"name": "getAzureCosts()", "description": "Convenience function to fetch Azure costs.", "scope": "", "scopeKind": ""}, {"name": "getGcpCosts()", "description": "Convenience function to fetch GCP costs.", "scope": "", "scopeKind": ""}], "calls": ["supabase.auth.getSession()", "getSupabaseEnv()", "fetch()"], "search-terms": ["cloudApi", "Supabase Edge Functions", "mock cloud endpoints", "AWS inventory", "Azure costs", "GCP mock data"], "state": 2, "file_id": 40, "knowledge_revision": 83, "git_revision": "", "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "getCloudData.headers", "scopeKind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "postCloudAction.headers", "scopeKind": "class"}, {"_type": "tag", "name": "aws", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    aws: \"mock-aws\",$/", "language": "JavaScript", "kind": "property", "scope": "getCloudData.map", "scopeKind": "class"}, {"_type": "tag", "name": "aws", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    aws: \"mock-aws\",$/", "language": "JavaScript", "kind": "property", "scope": "postCloudAction.map", "scopeKind": "class"}, {"_type": "tag", "name": "azure", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    azure: \"mock-azure\",$/", "language": "JavaScript", "kind": "property", "scope": "getCloudData.map", "scopeKind": "class"}, {"_type": "tag", "name": "azure", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    azure: \"mock-azure\",$/", "language": "JavaScript", "kind": "property", "scope": "postCloudAction.map", "scopeKind": "class"}, {"_type": "tag", "name": "buildFunctionUrl", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^function buildFunctionUrl(functionName, endpoint = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(functionName, endpoint = \"\")"}, {"_type": "tag", "name": "gcp", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    gcp: \"mock-gcp\",$/", "language": "JavaScript", "kind": "property", "scope": "getCloudData.map", "scopeKind": "class"}, {"_type": "tag", "name": "gcp", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^    gcp: \"mock-gcp\",$/", "language": "JavaScript", "kind": "property", "scope": "postCloudAction.map", "scopeKind": "class"}, {"_type": "tag", "name": "getAuthHeader", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^async function getAuthHeader() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAwsCosts", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getAwsCosts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAwsInventory", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getAwsInventory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAzureCosts", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getAzureCosts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAzureInventory", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getAzureInventory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCloudData", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getCloudData(provider, endpoint = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(provider, endpoint = \"\")"}, {"_type": "tag", "name": "getGcpCosts", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getGcpCosts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getGcpInventory", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function getGcpInventory() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "getCloudData", "scopeKind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "postCloudAction", "scopeKind": "class"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^  const map = {$/", "language": "JavaScript", "kind": "class", "scope": "getCloudData", "scopeKind": "class"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^  const map = {$/", "language": "JavaScript", "kind": "class", "scope": "postCloudAction", "scopeKind": "class"}, {"_type": "tag", "name": "postCloudAction", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^export async function postCloudAction(provider, endpoint = \"\", body = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(provider, endpoint = \"\", body = {})"}, {"_type": "tag", "name": "safeFetchJson", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/lib/cloudApi.js", "pattern": "/^async function safeFetchJson(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}], "hash": "035150334bb13727bd84c9a0628923bc", "format-version": 4, "code-base-name": "react_frontend_dashboard", "filename": "react_frontend_dashboard/src/lib/cloudApi.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "getCloudData.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "aws: \"mock-aws\",", "scope": "getCloudData.map", "scopeKind": "class", "description": "unavailable"}, {"name": "azure: \"mock-azure\",", "scope": "getCloudData.map", "scopeKind": "class", "description": "unavailable"}, {"name": "gcp: \"mock-gcp\",", "scope": "getCloudData.map", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"83": ""}]}