{"is_source_file": true, "format": "JavaScript", "description": "This file provides a centralized API service for interacting with Supabase, including authentication, account linking, resource discovery, and calling Edge Functions. It exports various functions to manage user sessions, external account integrations, and cloud resource operations.", "external_files": ["../services/supabaseClient"], "external_methods": ["supabase.auth.getSession", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.auth.getUser", "supabase.auth.getSession", "supabase.from"], "published": ["loginWithEmail", "signUpWithEmail", "logout", "getCurrentUser", "linkAwsAccount", "linkAzureAccount", "discoverResources", "fetchInventory", "fetchCosts", "controlResource", "fetchRecommendations", "upsertAutomationRule", "listAutomationRules", "fetchActivity", "isAuthenticated", "getLinkedAccounts", "createLinkedAccount"], "classes": [], "methods": [{"name": "callEdgeFunction(name, method = 'POST', body = null, signal)", "description": "Internal helper to call a specified Edge Function with parameters, handling authentication, errors, and response parsing.", "scope": "", "scopeKind": ""}, {"name": "loginWithEmail(email, password)", "description": "Logs in a user with email and password using Supabase Auth, returning user and session data.", "scope": "", "scopeKind": ""}, {"name": "signUpWithEmail(email, password, siteUrl)", "description": "Signs up a new user with email and password, with a redirect URL for email confirmation.", "scope": "", "scopeKind": ""}, {"name": "logout()", "description": "Logs out the current user session.", "scope": "", "scopeKind": ""}, {"name": "getCurrentUser()", "description": "Returns the current authenticated user or null if not logged in.", "scope": "", "scopeKind": ""}, {"name": "linkAwsAccount(payload, signal)", "description": "Links an AWS account through an Edge Function, passing relevant credentials.", "scope": "", "scopeKind": ""}, {"name": "linkAzureAccount(payload, signal)", "description": "Links an Azure account through an Edge Function, passing relevant credentials.", "scope": "", "scopeKind": ""}, {"name": "discoverResources({ providers = ['aws', 'azure'] }, signal)", "description": "Discovers cloud resources (mocked or real) for specified providers.", "scope": "", "scopeKind": ""}, {"name": "fetchInventory({ filter = {}, page = 1, pageSize = 20 }, signal)", "description": "Retrieves inventory data, possibly from cache or on-demand discovery.", "scope": "", "scopeKind": ""}, {"name": "fetchCosts({ range = '30d', groupBy = 'service' }, signal)", "description": "Retrieves aggregated cost data for resources.", "scope": "", "scopeKind": ""}, {"name": "controlResource({ provider, resourceId, operation, params = {} }, signal)", "description": "Performs lifecycle operations such as start, stop, or scale on a resource.", "scope": "", "scopeKind": ""}, {"name": "fetchRecommendations({ scope = 'all' }, signal)", "description": "Fetches AI/ML-based recommendations via an Edge Function.", "scope": "", "scopeKind": ""}, {"name": "upsertAutomationRule(rule, signal)", "description": "Creates or updates an automation rule.", "scope": "", "scopeKind": ""}, {"name": "listAutomationRules(signal)", "description": "Lists automation rules for the user.", "scope": "", "scopeKind": ""}, {"name": "fetchActivity({ page = 1, pageSize = 25 }, signal)", "description": "Retrieves activity logs or operation history.", "scope": "", "scopeKind": ""}, {"name": "isAuthenticated()", "description": "Checks if there is an active user session.", "scope": "", "scopeKind": ""}, {"name": "getLinkedAccounts(signal)", "description": "Fetches linked external accounts for the current user.", "scope": "", "scopeKind": ""}, {"name": "createLinkedAccount({ provider, name, credentials })", "description": "Creates a new linked external account with relevant credentials.", "scope": "", "scopeKind": ""}], "calls": ["supabase.auth.getSession", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.auth.getUser", "supabase.auth.getSession", "supabase.from", "fetch"], "search-terms": ["Edge Function calls", "Supabase auth", "cloud account linking", "resource discovery", "inventory", "costs", "automation rules", "activity logs", "supabaseClient"], "state": 2, "file_id": 79, "knowledge_revision": 593, "git_revision": "1efba005e561762da13db4c110115cafb2ae2de1", "revision_history": [{"269": ""}, {"482": "533766f01788425c658c93b8332b867fa302b005"}, {"487": "493b49a37beb6d212031899c58dab01b203e1e99"}, {"493": "db400fdcae236db08a69c5144961c1733a2dedd1"}, {"537": "93b3364675fdc11f6c6d11ef36c2920bb8bf1ea4"}, {"543": "0c45f0d429be6e39b5cb5ba15725f9d9bac48e97"}, {"590": "0c45f0d429be6e39b5cb5ba15725f9d9bac48e97"}, {"592": "1efba005e561762da13db4c110115cafb2ae2de1"}, {"593": "1efba005e561762da13db4c110115cafb2ae2de1"}], "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "callEdgeFunction.headers", "scopeKind": "class"}, {"_type": "tag", "name": "EDGE_BASE", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^const EDGE_BASE = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SUPABASE_URL", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^const SUPABASE_URL = process.env.REACT_APP_SUPABASE_URL;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^  let body = { provider: p, name };$/", "language": "JavaScript", "kind": "class", "scope": "createLinkedAccount", "scopeKind": "class"}, {"_type": "tag", "name": "callEdgeFunction", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^async function callEdgeFunction(name, method = 'POST', body = null, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, method = 'POST', body = null, signal)"}, {"_type": "tag", "name": "controlResource", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function controlResource({ provider, resourceId, operation, params = {} }, signal) /", "language": "JavaScript", "kind": "function", "signature": "({ provider, resourceId, operation, params = {} }, signal)"}, {"_type": "tag", "name": "createLinkedAccount", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function createLinkedAccount({ provider, name, credentials }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ provider, name, credentials })"}, {"_type": "tag", "name": "discoverResources", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function discoverResources({ providers = ['aws', 'azure'] }, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "({ providers = ['aws', 'azure'] }, signal)"}, {"_type": "tag", "name": "fetchActivity", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function fetchActivity({ page = 1, pageSize = 25 }, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "({ page = 1, pageSize = 25 }, signal)"}, {"_type": "tag", "name": "fetchCosts", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function fetchCosts({ range = '30d', groupBy = 'service' }, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "({ range = '30d', groupBy = 'service' }, signal)"}, {"_type": "tag", "name": "fetchInventory", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function fetchInventory({ filter = {}, page = 1, pageSize = 20 }, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "({ filter = {}, page = 1, pageSize = 20 }, signal)"}, {"_type": "tag", "name": "fetchRecommendations", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function fetchRecommendations({ scope = 'all' }, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "({ scope = 'all' }, signal)"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function getCurrentUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getLinkedAccounts", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function getLinkedAccounts(signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(signal)"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "callEdgeFunction", "scopeKind": "class"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function isAuthenticated() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^    json = { raw: text };$/", "language": "JavaScript", "kind": "class", "scope": "callEdgeFunction", "scopeKind": "class"}, {"_type": "tag", "name": "linkAwsAccount", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function linkAwsAccount(payload, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload, signal)"}, {"_type": "tag", "name": "linkAzureAccount", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function linkAzureAccount(payload, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload, signal)"}, {"_type": "tag", "name": "listAutomationRules", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function listAutomationRules(signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(signal)"}, {"_type": "tag", "name": "loginWithEmail", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function loginWithEmail(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function logout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "callEdgeFunction.options", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^  let body = { provider: p, name };$/", "language": "JavaScript", "kind": "field", "scope": "createLinkedAccount.body", "scopeKind": "class"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^  let body = { provider: p, name };$/", "language": "JavaScript", "kind": "property", "scope": "createLinkedAccount.body", "scopeKind": "class"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^    json = { raw: text };$/", "language": "JavaScript", "kind": "property", "scope": "callEdgeFunction.json", "scopeKind": "class"}, {"_type": "tag", "name": "signUpWithEmail", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function signUpWithEmail(email, password, siteUrl) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password, siteUrl)"}, {"_type": "tag", "name": "upsertAutomationRule", "path": "/home/kavia/workspace/code-generation/unified-cloud-resource-manager-57683-57692/react_frontend_dashboard/src/services/api.js", "pattern": "/^export async function upsertAutomationRule(rule, signal) {$/", "language": "JavaScript", "kind": "function", "signature": "(rule, signal)"}], "hash": "982b87744d6baf092e867f87515e37ed", "format-version": 4, "code-base-name": "react_frontend_dashboard", "filename": "react_frontend_dashboard/src/services/api.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "callEdgeFunction.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "method,", "scope": "callEdgeFunction.options", "scopeKind": "class", "description": "unavailable"}, {"name": "let body = { provider: p, name };", "scope": "createLinkedAccount.body", "scopeKind": "class", "description": "unavailable"}, {"name": "json = { raw: text };", "scope": "callEdgeFunction.json", "scopeKind": "class", "description": "unavailable"}]}